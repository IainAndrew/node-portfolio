@import 'settings';
@import '~foundation-sites/scss/foundation';

@include foundation-global-styles;
@include foundation-grid;
@include foundation-typography;
@include foundation-button;
@include foundation-visibility-classes;
@include foundation-float-classes;

@import
'utils/variables',
'utils/mixins',
'utils/animations',
'components/navigation',
'components/page-header',
'components/browser-window',
'components/footer';

.button {
  font-family:$header-font-family;
  text-transform:uppercase;
}

@keyframes blockGetBigger {
  from {
    width:0;
  }
  to {
    width:100%;
  }
}

.transition-overlay {
  position:fixed;
  top:0;
  left:0;
  width:100%;
  height:100%;
  background-color:white;
  z-index:10;
  transform:translateY(0);
  transition:transform 0.5s ease, opacity 0.3s ease;
  &.fade {
    opacity:0;
    pointer-events:none;
  }
  &.reset {
    transform:translate(100%, 0);
  }
  @each $name, $value in $background-colors {
    &[data-color="#{$name}"] {
      background-color:$value;
      .block {
        background:$value;
        &:before, &:after {
          background:$value;
        }
      }
    }
  }
  .block {
    position:absolute;
    height:calc(100% / 10);
    right:100%;
    background:$white;
    @for $i from 1 through 10 {
      &:nth-child(#{$i}) {
        top:calc(100% / 10 * #{$i - 1});
      }
    }
  }
}

body {
  background-color:$blue;
  &.transition-out {
    .container {
      transform:scale(0.9);
    }
    &.forward {
      .transition-overlay {
        animation: slide-in-left 0.8s $cubic forwards;
        .block {
          @for $i from 1 through 10 {
            $val: calc(2 / #{$i}) + 's';
            &:nth-child(#{$i}) {
              animation: blockGetBigger $val $cubic forwards;
            }
          }
        }
      }
    }
    &.back {
      .transition-overlay {
        animation: slide-in-right 0.8s $cubic forwards;
        .block {
          right:auto;
          left:100%;
          @for $i from 1 through 10 {
            $val: calc(2 / #{$i}) + 's';
            &:nth-child(#{$i}) {
              animation: blockGetBigger $val $cubic forwards;
            }
          }
        }
      }
    }
  }
}
.container {
  transition:transform 0.3s ease;
}
section.page-section {
  padding:$section-padding 0;
  background-color:white;
  position:relative;
  .section-heading {
    text-align:center;
    text-transform:uppercase;
    position:relative;
    margin-bottom:$section-padding;
    // &:after {
    //   content:"";
    //   position:absolute;
    //   top:100%;
    //   left:50%;
    //   transform:translateX(-50%);
    //   width:10rem;
    //   height:4px;
    //   background:currentColor;
    // }
  }
  @each $name, $value in $background-colors {
    &.#{$name} {
      color:$white;
    }
    &:not(.skewed-bg) {
      &.#{$name} {
        background-color:$value;
      }
    }
    &.skewed-bg {
      &.#{$name} {
        .bg {
          background-color:$value;
        }
      }
    }
  }
  &.skewed-bg {
    .bg {
      position:absolute;
      top:0;
      left:0;
      width:100%;
      height:100%;
      transform:skewY(-10deg);
      transform-origin:0;
    }
    .row {
      position:relative;
      z-index:1;
    }
  }
}
